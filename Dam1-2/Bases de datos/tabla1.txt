create table compradores(
Cif_comprador varchar(11),
Nombre_social varchar(30),
Domicilio_social varchar(30),
Localidad varchar(30),
C_postal varchar(5),
Telefono varchar(9) not null,
constraint PK_COMPRADORES_CIF primary key (Cif_comprador),
constraint UQ_COMPRADORES_NOMBRE_SOCIAL unique (Nombre_social)
);
 
create table articulos(
Referencia_articulo varchar(12),
Descripcion_articulo varchar(30),
Precio_unidad numeric(6, 2),
Iva numeric(2),
Existencias_actuales numeric(5, 0) default 0,
constraint PK_ARTICULOS primary key(Referencia_articulo)
);

create table facturas(
Num_factura numeric(6, 0),
Fecha_factura date default '2005-01-01',
Cif_cliente varchar(11),
constraint PK_FACTURAS primary key (Num_factura)
); 
                                                                     
create table lineas_factura(
Num_factura numeric(6, 0),
Referencia_articulo varchar(12),
Unidades numeric(3, 0),
constraint PK_LINEAS_FACTURA primary key (Num_factura, Referencia_articulo),
constraint FK_LINEAS_FACTURAS foreign key (Num_factura) references facturas(Num_factura) on delete cascade,
constraint FK_LINEAS_ARTICULOS foreign key (Referencia_articulo) references articulos(Referencia_articulo)
);